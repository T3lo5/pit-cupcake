{"numTotalTestSuites":24,"numPassedTestSuites":24,"numFailedTestSuites":0,"numPendingTestSuites":0,"numTotalTests":50,"numPassedTests":48,"numFailedTests":2,"numPendingTests":0,"numTodoTests":0,"startTime":1756942053370,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["","Header","quando usuário não está logado"],"fullName":" Header quando usuário não está logado deve exibir links de login e cadastro","status":"passed","title":"deve exibir links de login e cadastro","duration":160,"failureMessages":[]},{"ancestorTitles":["","Header","quando usuário não está logado"],"fullName":" Header quando usuário não está logado deve exibir carrinho vazio","status":"passed","title":"deve exibir carrinho vazio","duration":18,"failureMessages":[]},{"ancestorTitles":["","Header","quando usuário não está logado"],"fullName":" Header quando usuário não está logado não deve exibir links de admin","status":"passed","title":"não deve exibir links de admin","duration":19,"failureMessages":[]},{"ancestorTitles":["","Header","quando usuário está logado como cliente"],"fullName":" Header quando usuário está logado como cliente deve exibir nome do usuário","status":"passed","title":"deve exibir nome do usuário","duration":11,"failureMessages":[]},{"ancestorTitles":["","Header","quando usuário está logado como cliente"],"fullName":" Header quando usuário está logado como cliente deve exibir botão de sair","status":"passed","title":"deve exibir botão de sair","duration":17,"failureMessages":[]},{"ancestorTitles":["","Header","quando usuário está logado como cliente"],"fullName":" Header quando usuário está logado como cliente deve exibir quantidade de itens no carrinho","status":"passed","title":"deve exibir quantidade de itens no carrinho","duration":7,"failureMessages":[]},{"ancestorTitles":["","Header","quando usuário está logado como cliente"],"fullName":" Header quando usuário está logado como cliente não deve exibir links de login e cadastro","status":"passed","title":"não deve exibir links de login e cadastro","duration":6,"failureMessages":[]},{"ancestorTitles":["","Header","quando usuário está logado como cliente"],"fullName":" Header quando usuário está logado como cliente não deve exibir links de admin","status":"passed","title":"não deve exibir links de admin","duration":8,"failureMessages":[]},{"ancestorTitles":["","Header","quando usuário está logado como admin"],"fullName":" Header quando usuário está logado como admin deve exibir links de admin","status":"passed","title":"deve exibir links de admin","duration":18,"failureMessages":[]},{"ancestorTitles":["","Header","quando usuário está logado como admin"],"fullName":" Header quando usuário está logado como admin deve chamar logout e navegar para login ao clicar em sair","status":"passed","title":"deve chamar logout e navegar para login ao clicar em sair","duration":40,"failureMessages":[]},{"ancestorTitles":["","Header","navegação"],"fullName":" Header navegação deve ter link para home","status":"passed","title":"deve ter link para home","duration":8,"failureMessages":[]},{"ancestorTitles":["","Header","navegação"],"fullName":" Header navegação deve ter link para carrinho","status":"passed","title":"deve ter link para carrinho","duration":6,"failureMessages":[]},{"ancestorTitles":["","Header","navegação"],"fullName":" Header navegação deve ter link para pedidos","status":"passed","title":"deve ter link para pedidos","duration":11,"failureMessages":[]}],"startTime":1756942055215,"endTime":1756942055547,"status":"passed","message":"","name":"/mnt/hd/github-personal/pit/cupcakes-monorepo/web/src/components/__tests__/Header.test.tsx"},{"assertionResults":[{"ancestorTitles":["","Login"],"fullName":" Login deve renderizar formulário de login","status":"passed","title":"deve renderizar formulário de login","duration":171,"failureMessages":[]},{"ancestorTitles":["","Login"],"fullName":" Login deve ter valores padrão nos campos","status":"passed","title":"deve ter valores padrão nos campos","duration":8,"failureMessages":[]},{"ancestorTitles":["","Login"],"fullName":" Login deve permitir alterar valores dos campos","status":"passed","title":"deve permitir alterar valores dos campos","duration":186,"failureMessages":[]},{"ancestorTitles":["","Login"],"fullName":" Login deve fazer login com sucesso","status":"failed","title":"deve fazer login com sucesso","duration":1169,"failureMessages":["expected \"spy\" to be called with arguments: [ { user: { id: '1', …(3) }, …(2) } ]\u001b[90m\n\nReceived: \n\n\u001b[39m\u001b[90m\n\nNumber of calls: \u001b[1m0\u001b[22m\n\u001b[39m\n\nIgnored nodes: comments, script, style\n\u001b[36m<html>\u001b[39m\n  \u001b[36m<head />\u001b[39m\n  \u001b[36m<body>\u001b[39m\n    \u001b[36m<div>\u001b[39m\n      \u001b[36m<div\u001b[39m\n        \u001b[33mclass\u001b[39m=\u001b[32m\"max-w-sm mx-auto p-4\"\u001b[39m\n      \u001b[36m>\u001b[39m\n        \u001b[36m<h1\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"text-xl font-semibold mb-3\"\u001b[39m\n        \u001b[36m>\u001b[39m\n          \u001b[0mEntrar\u001b[0m\n        \u001b[36m</h1>\u001b[39m\n        \u001b[36m<input\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"border rounded px-3 py-2 w-full mb-2\"\u001b[39m\n          \u001b[33mplaceholder\u001b[39m=\u001b[32m\"Email\"\u001b[39m\n          \u001b[33mvalue\u001b[39m=\u001b[32m\"joao@test.com\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n        \u001b[36m<input\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"border rounded px-3 py-2 w-full mb-2\"\u001b[39m\n          \u001b[33mplaceholder\u001b[39m=\u001b[32m\"Senha\"\u001b[39m\n          \u001b[33mtype\u001b[39m=\u001b[32m\"password\"\u001b[39m\n          \u001b[33mvalue\u001b[39m=\u001b[32m\"123456\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n        \u001b[36m<button\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"w-full px-4 py-2 bg-black text-white rounded\"\u001b[39m\n        \u001b[36m>\u001b[39m\n          \u001b[0mEntrar\u001b[0m\n        \u001b[36m</button>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"mt-3 text-red-600\"\u001b[39m\n        \u001b[36m>\u001b[39m\n          \u001b[0mErro no login\u001b[0m\n        \u001b[36m</div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"mt-3 text-sm\"\u001b[39m\n        \u001b[36m>\u001b[39m\n          \u001b[0mNão tem conta?\u001b[0m\n          \u001b[0m \u001b[0m\n          \u001b[36m<a\u001b[39m\n            \u001b[33mclass\u001b[39m=\u001b[32m\"text-blue-600\"\u001b[39m\n            \u001b[33mhref\u001b[39m=\u001b[32m\"/register\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[0mCadastre-se\u001b[0m\n          \u001b[36m</a>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</div>\u001b[39m\n  \u001b[36m</body>\u001b[39m\n\u001b[36m</html>\u001b[39m"],"location":{"line":107,"column":27}},{"ancestorTitles":["","Login"],"fullName":" Login deve navegar para página de origem após login","status":"failed","title":"deve navegar para página de origem após login","duration":1035,"failureMessages":["expected \"spy\" to be called with arguments: [ '/cart', { replace: true } ]\u001b[90m\n\nReceived: \n\n\u001b[39m\u001b[90m\n\nNumber of calls: \u001b[1m0\u001b[22m\n\u001b[39m\n\nIgnored nodes: comments, script, style\n\u001b[36m<html>\u001b[39m\n  \u001b[36m<head />\u001b[39m\n  \u001b[36m<body>\u001b[39m\n    \u001b[36m<div>\u001b[39m\n      \u001b[36m<div\u001b[39m\n        \u001b[33mclass\u001b[39m=\u001b[32m\"max-w-sm mx-auto p-4\"\u001b[39m\n      \u001b[36m>\u001b[39m\n        \u001b[36m<h1\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"text-xl font-semibold mb-3\"\u001b[39m\n        \u001b[36m>\u001b[39m\n          \u001b[0mEntrar\u001b[0m\n        \u001b[36m</h1>\u001b[39m\n        \u001b[36m<input\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"border rounded px-3 py-2 w-full mb-2\"\u001b[39m\n          \u001b[33mplaceholder\u001b[39m=\u001b[32m\"Email\"\u001b[39m\n          \u001b[33mvalue\u001b[39m=\u001b[32m\"admin@cupcakes.dev\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n        \u001b[36m<input\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"border rounded px-3 py-2 w-full mb-2\"\u001b[39m\n          \u001b[33mplaceholder\u001b[39m=\u001b[32m\"Senha\"\u001b[39m\n          \u001b[33mtype\u001b[39m=\u001b[32m\"password\"\u001b[39m\n          \u001b[33mvalue\u001b[39m=\u001b[32m\"admin123\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n        \u001b[36m<button\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"w-full px-4 py-2 bg-black text-white rounded\"\u001b[39m\n        \u001b[36m>\u001b[39m\n          \u001b[0mEntrar\u001b[0m\n        \u001b[36m</button>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"mt-3 text-red-600\"\u001b[39m\n        \u001b[36m>\u001b[39m\n          \u001b[0mErro no login\u001b[0m\n        \u001b[36m</div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"mt-3 text-sm\"\u001b[39m\n        \u001b[36m>\u001b[39m\n          \u001b[0mNão tem conta?\u001b[0m\n          \u001b[0m \u001b[0m\n          \u001b[36m<a\u001b[39m\n            \u001b[33mclass\u001b[39m=\u001b[32m\"text-blue-600\"\u001b[39m\n            \u001b[33mhref\u001b[39m=\u001b[32m\"/register\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[0mCadastre-se\u001b[0m\n          \u001b[36m</a>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</div>\u001b[39m\n  \u001b[36m</body>\u001b[39m\n\u001b[36m</html>\u001b[39m"],"location":{"line":145,"column":28}},{"ancestorTitles":["","Login"],"fullName":" Login deve exibir mensagem de erro em caso de falha","status":"passed","title":"deve exibir mensagem de erro em caso de falha","duration":39,"failureMessages":[]},{"ancestorTitles":["","Login"],"fullName":" Login deve exibir mensagem de erro genérica quando não há mensagem específica","status":"passed","title":"deve exibir mensagem de erro genérica quando não há mensagem específica","duration":35,"failureMessages":[]},{"ancestorTitles":["","Login"],"fullName":" Login deve limpar mensagem de erro ao tentar novo login","status":"passed","title":"deve limpar mensagem de erro ao tentar novo login","duration":53,"failureMessages":[]},{"ancestorTitles":["","Login"],"fullName":" Login deve ter link para página de cadastro","status":"passed","title":"deve ter link para página de cadastro","duration":9,"failureMessages":[]}],"startTime":1756942055218,"endTime":1756942057923,"status":"failed","message":"","name":"/mnt/hd/github-personal/pit/cupcakes-monorepo/web/src/pages/__tests__/Login.test.tsx"},{"assertionResults":[{"ancestorTitles":["","useAuth","estado inicial"],"fullName":" useAuth estado inicial deve inicializar com dados do localStorage","status":"passed","title":"deve inicializar com dados do localStorage","duration":45,"failureMessages":[]},{"ancestorTitles":["","useAuth","estado inicial"],"fullName":" useAuth estado inicial deve inicializar com valores null quando localStorage está vazio","status":"passed","title":"deve inicializar com valores null quando localStorage está vazio","duration":6,"failureMessages":[]},{"ancestorTitles":["","useAuth","setAuth"],"fullName":" useAuth setAuth deve definir dados de autenticação e salvar no localStorage","status":"passed","title":"deve definir dados de autenticação e salvar no localStorage","duration":12,"failureMessages":[]},{"ancestorTitles":["","useAuth","setAuth"],"fullName":" useAuth setAuth deve manter refresh token existente quando não fornecido","status":"passed","title":"deve manter refresh token existente quando não fornecido","duration":9,"failureMessages":[]},{"ancestorTitles":["","useAuth","logout"],"fullName":" useAuth logout deve limpar dados de autenticação e localStorage","status":"passed","title":"deve limpar dados de autenticação e localStorage","duration":6,"failureMessages":[]},{"ancestorTitles":["","useAuth","isAdmin"],"fullName":" useAuth isAdmin true para admin","status":"passed","title":"true para admin","duration":6,"failureMessages":[]},{"ancestorTitles":["","useAuth","isAdmin"],"fullName":" useAuth isAdmin false para customer","status":"passed","title":"false para customer","duration":4,"failureMessages":[]},{"ancestorTitles":["","useAuth","isAdmin"],"fullName":" useAuth isAdmin false quando não há usuário","status":"passed","title":"false quando não há usuário","duration":5,"failureMessages":[]},{"ancestorTitles":["","useAuth","isLogged"],"fullName":" useAuth isLogged true quando há access token","status":"passed","title":"true quando há access token","duration":10,"failureMessages":[]},{"ancestorTitles":["","useAuth","isLogged"],"fullName":" useAuth isLogged false quando não há access token","status":"passed","title":"false quando não há access token","duration":5,"failureMessages":[]},{"ancestorTitles":["","useAuth","refreshAccessToken"],"fullName":" useAuth refreshAccessToken renova access token com sucesso","status":"passed","title":"renova access token com sucesso","duration":15,"failureMessages":[]},{"ancestorTitles":["","useAuth","refreshAccessToken"],"fullName":" useAuth refreshAccessToken retorna null quando não há refresh token","status":"passed","title":"retorna null quando não há refresh token","duration":4,"failureMessages":[]},{"ancestorTitles":["","useAuth","refreshAccessToken"],"fullName":" useAuth refreshAccessToken faz logout quando refresh falha","status":"passed","title":"faz logout quando refresh falha","duration":6,"failureMessages":[]}],"startTime":1756942055058,"endTime":1756942055192,"status":"passed","message":"","name":"/mnt/hd/github-personal/pit/cupcakes-monorepo/web/src/store/__tests__/auth.test.ts"},{"assertionResults":[{"ancestorTitles":["","useCart","estado inicial"],"fullName":" useCart estado inicial deve inicializar com carrinho vazio quando localStorage está vazio","status":"passed","title":"deve inicializar com carrinho vazio quando localStorage está vazio","duration":21,"failureMessages":[]},{"ancestorTitles":["","useCart","estado inicial"],"fullName":" useCart estado inicial deve carregar itens do localStorage","status":"passed","title":"deve carregar itens do localStorage","duration":4,"failureMessages":[]},{"ancestorTitles":["","useCart","estado inicial"],"fullName":" useCart estado inicial deve normalizar dados inválidos do localStorage","status":"passed","title":"deve normalizar dados inválidos do localStorage","duration":4,"failureMessages":[]},{"ancestorTitles":["","useCart","add"],"fullName":" useCart add deve adicionar novo item ao carrinho","status":"passed","title":"deve adicionar novo item ao carrinho","duration":8,"failureMessages":[]},{"ancestorTitles":["","useCart","add"],"fullName":" useCart add deve incrementar quantidade de item existente","status":"passed","title":"deve incrementar quantidade de item existente","duration":4,"failureMessages":[]},{"ancestorTitles":["","useCart","add"],"fullName":" useCart add deve usar quantidade padrão 1 quando não especificada","status":"passed","title":"deve usar quantidade padrão 1 quando não especificada","duration":3,"failureMessages":[]},{"ancestorTitles":["","useCart","add"],"fullName":" useCart add deve normalizar valores inválidos","status":"passed","title":"deve normalizar valores inválidos","duration":3,"failureMessages":[]},{"ancestorTitles":["","useCart","remove"],"fullName":" useCart remove deve remover item do carrinho","status":"passed","title":"deve remover item do carrinho","duration":4,"failureMessages":[]},{"ancestorTitles":["","useCart","remove"],"fullName":" useCart remove não deve afetar outros itens","status":"passed","title":"não deve afetar outros itens","duration":4,"failureMessages":[]},{"ancestorTitles":["","useCart","setQty"],"fullName":" useCart setQty deve alterar quantidade de item existente","status":"passed","title":"deve alterar quantidade de item existente","duration":3,"failureMessages":[]},{"ancestorTitles":["","useCart","setQty"],"fullName":" useCart setQty não deve remover item quando quantidade for 0 ou negativa (normaliza para 1)","status":"passed","title":"não deve remover item quando quantidade for 0 ou negativa (normaliza para 1)","duration":2,"failureMessages":[]},{"ancestorTitles":["","useCart","setQty"],"fullName":" useCart setQty deve garantir quantidade mínima de 1","status":"passed","title":"deve garantir quantidade mínima de 1","duration":2,"failureMessages":[]},{"ancestorTitles":["","useCart","clear"],"fullName":" useCart clear deve limpar todos os itens do carrinho","status":"passed","title":"deve limpar todos os itens do carrinho","duration":3,"failureMessages":[]},{"ancestorTitles":["","useCart","subtotal"],"fullName":" useCart subtotal deve calcular subtotal corretamente","status":"passed","title":"deve calcular subtotal corretamente","duration":2,"failureMessages":[]},{"ancestorTitles":["","useCart","subtotal"],"fullName":" useCart subtotal deve retornar 0 para carrinho vazio","status":"passed","title":"deve retornar 0 para carrinho vazio","duration":2,"failureMessages":[]}],"startTime":1756942055077,"endTime":1756942055146,"status":"passed","message":"","name":"/mnt/hd/github-personal/pit/cupcakes-monorepo/web/src/store/__tests__/cart.test.ts"}]}